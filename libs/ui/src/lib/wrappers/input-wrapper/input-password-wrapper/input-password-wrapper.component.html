@if (!effectiveHideExternalLabel()) {
  <label class="form-label" [matTooltip]="effectiveTooltip() ?? ''">{{ effectiveLabel() }}</label>
}

<mat-form-field appearance="outline">
  @if (!effectiveHideInternalLabel()) {
    <mat-label>{{ effectiveLabel() }}</mat-label>
  }

  @if (effectiveIcon()) {
    <mat-icon matPrefix>{{ effectiveIcon() }}</mat-icon>
  }

  <input
    matInput
    [type]="effectiveType()"
    [placeholder]="effectivePlaceholder()"
    [required]="effectiveRequired()"
    [disabled]="isDisabled()"
    [attr.tabindex]="effectiveTabindex() ?? null"
    [ngModel]="value()"
    (ngModelChange)="onChange($event)"
    (blur)="onBlur()"
  />

  <button
    type="button"
    mat-icon-button
    matSuffix
    (click)="togglePasswordVisibility()"
    [attr.aria-label]="'Ocultar contraseÃ±a'"
    [attr.aria-pressed]="hidePassword()"
  >
    <mat-icon>{{ hidePassword() ? passwordIcons.VISIBILITY_OFF : passwordIcons.VISIBILITY }}</mat-icon>
  </button>

  @if (effectiveErrorMessage()) {
    <mat-error>{{ effectiveErrorMessage() }}</mat-error>
  }

  @if (effectiveHint()) {
    <mat-hint>{{ effectiveHint() }}</mat-hint>
  }
</mat-form-field>
